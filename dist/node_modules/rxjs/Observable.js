/*
 playground 2017-08-16 
*/

"use strict";var root_1=require("./util/root"),toSubscriber_1=require("./util/toSubscriber"),observable_1=require("./symbol/observable"),Observable=function(){function r(r){this._isScalar=!1,r&&(this._subscribe=r)}return r.prototype.lift=function(o){var t=new r;return t.source=this,t.operator=o,t},r.prototype.subscribe=function(r,o,t){var e=this.operator,s=toSubscriber_1.toSubscriber(r,o,t);if(e?e.call(s,this.source):s.add(this.source?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(o){r.syncErrorThrown=!0,r.syncErrorValue=o,r.error(o)}},r.prototype.forEach=function(r,o){var t=this;if(o||(root_1.root.Rx&&root_1.root.Rx.config&&root_1.root.Rx.config.Promise?o=root_1.root.Rx.config.Promise:root_1.root.Promise&&(o=root_1.root.Promise)),!o)throw new Error("no Promise impl found");return new o(function(o,e){var s;s=t.subscribe(function(o){if(s)try{r(o)}catch(r){e(r),s.unsubscribe()}else r(o)},e,o)})},r.prototype._subscribe=function(r){return this.source.subscribe(r)},r.prototype[observable_1.observable]=function(){return this},r.create=function(o){return new r(o)},r}();exports.Observable=Observable;