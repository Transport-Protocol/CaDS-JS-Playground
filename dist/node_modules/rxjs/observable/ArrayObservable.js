/*
 playground 2017-08-16 
*/

"use strict";var __extends=this&&this.__extends||function(e,r){function t(){this.constructor=e}for(var s in r)r.hasOwnProperty(s)&&(e[s]=r[s]);e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)},Observable_1=require("../Observable"),ScalarObservable_1=require("./ScalarObservable"),EmptyObservable_1=require("./EmptyObservable"),isScheduler_1=require("../util/isScheduler"),ArrayObservable=function(e){function r(r,t){e.call(this),this.array=r,this.scheduler=t,t||1!==r.length||(this._isScalar=!0,this.value=r[0])}return __extends(r,e),r.create=function(e,t){return new r(e,t)},r.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var s=e[e.length-1];isScheduler_1.isScheduler(s)?e.pop():s=null;var a=e.length;return a>1?new r(e,s):1===a?new ScalarObservable_1.ScalarObservable(e[0],s):new EmptyObservable_1.EmptyObservable(s)},r.dispatch=function(e){var r=e.array,t=e.index,s=e.count,a=e.subscriber;t>=s?a.complete():(a.next(r[t]),a.closed||(e.index=t+1,this.schedule(e)))},r.prototype._subscribe=function(e){var t=this.array,s=t.length,a=this.scheduler;if(a)return a.schedule(r.dispatch,0,{array:t,index:0,count:s,subscriber:e});for(var l=0;l<s&&!e.closed;l++)e.next(t[l]);e.complete()},r}(Observable_1.Observable);exports.ArrayObservable=ArrayObservable;