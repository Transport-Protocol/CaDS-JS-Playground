/*
 playground 2017-08-16 
*/

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("rxjs/Subject"),require("rxjs/observable/from"),require("rxjs/observable/of"),require("rxjs/operator/concatMap"),require("rxjs/operator/every"),require("rxjs/operator/map"),require("rxjs/operator/mergeAll"),require("rxjs/operator/mergeMap"),require("rxjs/operator/reduce"),require("rxjs/Observable"),require("rxjs/operator/catch"),require("rxjs/operator/concatAll"),require("rxjs/operator/first"),require("rxjs/util/EmptyError"),require("rxjs/observable/fromPromise"),require("rxjs/operator/last"),require("rxjs/BehaviorSubject"),require("rxjs/operator/filter")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core","rxjs/Subject","rxjs/observable/from","rxjs/observable/of","rxjs/operator/concatMap","rxjs/operator/every","rxjs/operator/map","rxjs/operator/mergeAll","rxjs/operator/mergeMap","rxjs/operator/reduce","rxjs/Observable","rxjs/operator/catch","rxjs/operator/concatAll","rxjs/operator/first","rxjs/util/EmptyError","rxjs/observable/fromPromise","rxjs/operator/last","rxjs/BehaviorSubject","rxjs/operator/filter"],e):e((t.ng=t.ng||{},t.ng.router=t.ng.router||{}),t.ng.common,t.ng.core,t.Rx,t.Rx.Observable,t.Rx.Observable,t.rxjs_operator_concatMap,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx.Observable.prototype,t.Rx,t.Rx.Observable,t.Rx.Observable.prototype,t.Rx,t.Rx.Observable.prototype)}(this,function(t,e,r,n,o,i,a,u,s,c,l,h,p,f,d,g,v,m,y,b,S){"use strict";function w(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!C(t[r],e[r]))return!1;return!0}function C(t,e){var r=Object.keys(t),n=Object.keys(e);if(r.length!=n.length)return!1;for(var o,i=0;i<r.length;i++)if(o=r[i],t[o]!==e[o])return!1;return!0}function R(t){for(var e=[],r=0;r<t.length;++r)for(var n=0;n<t[r].length;++n)e.push(t[r][n]);return e}function _(t){return t.length>0?t[t.length-1]:null}function j(t,e){var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);return r}function x(t,e){for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)}function O(t,e){var r=[],n={};if(x(t,function(t,o){o===be&&r.push(s.map.call(e(o,t),function(t){return n[o]=t,t}))}),x(t,function(t,o){o!==be&&r.push(s.map.call(e(o,t),function(t){return n[o]=t,t}))}),r.length>0){var o=d.concatAll.call(i.of.apply(void 0,r)),a=y.last.call(o);return s.map.call(a,function(){return n})}return i.of(n)}function P(t){var e=c.mergeAll.call(t);return u.every.call(e,function(t){return!0===t})}function T(t){return t instanceof p.Observable?t:t instanceof Promise?m.fromPromise(t):i.of(t)}function A(){return new _e(new je([],{}),{},null)}function E(t,e,r){return r?I(t.root,e.root):k(t.root,e.root)}function I(t,e){if(!L(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var r in e.children){if(!t.children[r])return!1;if(!I(t.children[r],e.children[r]))return!1}return!0}function k(t,e){return U(t,e,e.segments)}function U(t,e,r){if(t.segments.length>r.length)return!!L(o=t.segments.slice(0,r.length),r)&&!e.hasChildren();if(t.segments.length===r.length){if(!L(t.segments,r))return!1;for(var n in e.children){if(!t.children[n])return!1;if(!k(t.children[n],e.children[n]))return!1}return!0}var o=r.slice(0,t.segments.length),i=r.slice(t.segments.length);return!!L(t.segments,o)&&(!!t.children[be]&&U(t.children[be],e,i))}function L(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r].path!==e[r].path)return!1;return!0}function M(t,e){var r=[];return x(t.children,function(t,n){n===be&&(r=r.concat(e(t,n)))}),x(t.children,function(t,n){n!==be&&(r=r.concat(e(t,n)))}),r}function q(t){return t.segments.map(function(t){return F(t)}).join("/")}function z(t,e){if(t.hasChildren()&&e){var r=t.children[be]?z(t.children[be],!1):"",n=[];return x(t.children,function(t,e){e!==be&&n.push(e+":"+z(t,!1))}),n.length>0?r+"("+n.join("//")+")":""+r}if(t.hasChildren()&&!e){var o=M(t,function(e,r){return r===be?[z(t.children[be],!1)]:[r+":"+z(e,!1)]});return q(t)+"/("+o.join("//")+")"}return q(t)}function W(t){return encodeURIComponent(t)}function D(t){return decodeURIComponent(t)}function F(t){return""+W(t.path)+N(t.parameters)}function N(t){return B(t).map(function(t){return";"+W(t.first)+"="+W(t.second)}).join("")}function G(t){var e=B(t).map(function(t){return W(t.first)+"="+W(t.second)});return e.length>0?"?"+e.join("&"):""}function B(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(new Te(r,t[r]));return e}function H(t){Ae.lastIndex=0;var e=t.match(Ae);return e?e[0]:""}function Q(t){Ee.lastIndex=0;var e=t.match(Ae);return e?e[0]:""}function V(t){Ie.lastIndex=0;var e=t.match(Ie);return e?e[0]:""}function $(t){return new p.Observable(function(e){return e.error(new Ue(t))})}function K(t){return new p.Observable(function(e){return e.error(new Le(t))})}function Y(t){return new p.Observable(function(e){return e.error(new Se("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}function Z(t,e,r,n){return new Me(t,e,r,n).apply()}function J(t,e){var r=e.canLoad;return r&&0!==r.length?P(s.map.call(o.from(r),function(r){var n=t.get(r);return T(n.canLoad?n.canLoad(e):n(e))})):i.of(!0)}function X(t,e,r){var n={matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}};if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};for(var o=e.path.split("/"),i={},a=[],u=0,s=0;s<o.length;++s){if(u>=r.length)return n;var c=r[u],l=o[s],h=l.startsWith(":");if(!h&&l!==c.path)return n;h&&(i[l.substring(1)]=c),a.push(c),u++}return"full"===e.pathMatch&&(t.hasChildren()||u<r.length)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:a,lastChild:u,positionalParamSegments:i}}function tt(t,e,r){var n=e.startsWith("/")?e.substring(1):e;return""===n?[]:et(e,n.split("/"),t,r)}function et(t,e,r,n){return e.map(function(e){return e.startsWith(":")?rt(e,n,t):nt(e,r)})}function rt(t,e,r){var n=e[t.substring(1)];if(!n)throw new Error("Cannot redirect to '"+r+"'. Cannot find '"+t+"'.");return n}function nt(t,e){for(var r=0,n=0,o=e;n<o.length;n++){var i=o[n];if(i.path===t)return e.splice(r),i;r++}return new xe(t,{})}function ot(t,e,r,n){if(r.length>0&&st(t,r,n))return{segmentGroup:it(o=new je(e,ut(n,new je(r,t.children)))),slicedSegments:[]};if(0===r.length&&ct(t,r,n)){var o=new je(t.segments,at(t,r,n,t.children));return{segmentGroup:it(o),slicedSegments:r}}return{segmentGroup:t,slicedSegments:r}}function it(t){if(1===t.numberOfChildren&&t.children[be]){var e=t.children[be];return new je(t.segments.concat(e.segments),e.children)}return t}function at(t,e,r,n){for(var o={},i=0,a=r;i<a.length;i++){var u=a[i];lt(t,e,u)&&!n[ht(u)]&&(o[ht(u)]=new je([],{}))}return j(n,o)}function ut(t,e){var r={};r[be]=e;for(var n=0,o=t;n<o.length;n++){var i=o[n];""===i.path&&ht(i)!==be&&(r[ht(i)]=new je([],{}))}return r}function st(t,e,r){return r.filter(function(r){return lt(t,e,r)&&ht(r)!==be}).length>0}function ct(t,e,r){return r.filter(function(r){return lt(t,e,r)}).length>0}function lt(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0!==r.redirectTo)}function ht(t){return t.outlet?t.outlet:be}function pt(t){t.forEach(ft)}function ft(t){if(Array.isArray(t))throw new Error("Invalid route configuration: Array cannot be specified");if(void 0===t.component&&t.outlet&&t.outlet!==be)throw new Error("Invalid route configuration of route '"+t.path+"': a componentless route cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+t.path+"': redirectTo and component cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+t.path+"': one of the following must be provided (component or redirectTo or children or loadChildren)");if(void 0===t.path)throw new Error("Invalid route configuration: routes must have path specified");if(t.path.startsWith("/"))throw new Error("Invalid route configuration of route '"+t.path+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch){throw new Error("Invalid route configuration of route '{path: \""+t.path+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.")}if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+t.path+"': pathMatch can only be set to 'prefix' or 'full'")}function dt(t,e){if(t===e.value)return e;for(var r=0,n=e.children;r<n.length;r++){var o=dt(t,n[r]);if(o)return o}return null}function gt(t,e,r){if(r.push(e),t===e.value)return r;for(var n=0,o=e.children;n<o.length;n++){var i=gt(t,o[n],r.slice(0));if(i.length>0)return i}return[]}function vt(t,e){var r=mt(t,e),n=new b.BehaviorSubject([new xe("",{})]),o=new b.BehaviorSubject({}),i=new b.BehaviorSubject({}),a=new b.BehaviorSubject({}),u=new b.BehaviorSubject(""),s=new Fe(n,o,a,u,i,be,e,r.root);return s.snapshot=r.root,new De(new ze(s,[]),r)}function mt(t,e){var r=new Ne([],{},{},"",{},be,e,null,t.root,-1,{});return new Ge("",new ze(r,[]))}function yt(t){for(var e=t.pathFromRoot,r=e.length-1;r>=1;){var n=e[r],o=e[r-1];if(n.routeConfig&&""===n.routeConfig.path)r--;else{if(o.component)break;r--}}return e.slice(r).reduce(function(t,e){return{params:j(t.params,e.params),data:j(t.data,e.data),resolve:j(t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}function bt(t,e){e.value._routerState=t,e.children.forEach(function(e){return bt(t,e)})}function St(t){var e=t.children.length>0?" { "+t.children.map(St).join(", ")+" } ":"";return""+t.value+e}function wt(t){t.snapshot?(C(t.snapshot.queryParams,t._futureSnapshot.queryParams)||t.queryParams.next(t._futureSnapshot.queryParams),t.snapshot.fragment!==t._futureSnapshot.fragment&&t.fragment.next(t._futureSnapshot.fragment),C(t.snapshot.params,t._futureSnapshot.params)||(t.params.next(t._futureSnapshot.params),t.data.next(t._futureSnapshot.data)),w(t.snapshot.url,t._futureSnapshot.url)||t.url.next(t._futureSnapshot.url),t.snapshot=t._futureSnapshot):(t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data))}function Ct(t,e){var r=Rt(t._root,e?e._root:void 0);return new De(r,t)}function Rt(t,e){if(e&&xt(e.value.snapshot,t.value)){(r=e.value)._futureSnapshot=t.value;n=_t(t,e);return new ze(r,n)}var r=jt(t.value),n=t.children.map(function(t){return Rt(t)});return new ze(r,n)}function _t(t,e){return t.children.map(function(t){for(var r=0,n=e.children;r<n.length;r++){var o=n[r];if(xt(o.value.snapshot,t.value))return Rt(t,o)}return Rt(t)})}function jt(t){return new Fe(new b.BehaviorSubject(t.url),new b.BehaviorSubject(t.params),new b.BehaviorSubject(t.queryParams),new b.BehaviorSubject(t.fragment),new b.BehaviorSubject(t.data),t.outlet,t.component,t)}function xt(t,e){return t._routeConfig===e._routeConfig}function Ot(t,e,r,n,o){if(0===r.length)return At(e.root,e.root,e,n,o);var i=kt(r);if(Pt(i),It(i))return At(e.root,new je([],{}),e,n,o);var a=Ut(i,e,t),u=a.processChildren?Wt(a.segmentGroup,a.index,i.commands):zt(a.segmentGroup,a.index,i.commands);return At(a.segmentGroup,u,e,n,o)}function Pt(t){if(t.isAbsolute&&t.commands.length>0&&Tt(t.commands[0]))throw new Error("Root segment cannot have matrix parameters");var e=t.commands.filter(function(t){return"object"==typeof t&&void 0!==t.outlets});if(e.length>0&&e[0]!==t.commands[t.commands.length-1])throw new Error("{outlets:{}} has to be the last command")}function Tt(t){return"object"==typeof t&&void 0===t.outlets&&void 0===t.segmentPath}function At(t,e,r,n,o){return r.root===t?new _e(e,Gt(n),o):new _e(Et(r.root,t,e),Gt(n),o)}function Et(t,e,r){var n={};return x(t.children,function(t,o){n[o]=t===e?r:Et(t,e,r)}),new je(t.segments,n)}function It(t){return t.isAbsolute&&1===t.commands.length&&"/"==t.commands[0]}function kt(t){if("string"==typeof t[0]&&1===t.length&&"/"==t[0])return new Be(!0,0,t);for(var e=0,r=!1,n=[],o=0;o<t.length;++o)!function(o){var i=t[o];if("object"==typeof i&&void 0!==i.outlets){var a={};return x(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),n.push({outlets:a}),"continue"}if("object"==typeof i&&void 0!==i.segmentPath)return n.push(i.segmentPath),"continue";if("string"!=typeof i)return n.push(i),"continue";if(0===o)for(var u=i.split("/"),s=0;s<u.length;++s){var c=u[s];0==s&&"."==c||(0==s&&""==c?r=!0:".."==c?e++:""!=c&&n.push(c))}else n.push(i)}(o);return new Be(r,e,n)}function Ut(t,e,r){if(t.isAbsolute)return new He(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new He(r.snapshot._urlSegment,!0,0);var n=Tt(t.commands[0])?0:1,o=r.snapshot._lastPathIndex+n;return Lt(r.snapshot._urlSegment,o,t.numberOfDoubleDots)}function Lt(t,e,r){for(var n=t,o=e,i=r;i>o;){if(i-=o,!(n=n.parent))throw new Error("Invalid number of '../'");o=n.segments.length}return new He(n,!1,o-i)}function Mt(t){return"object"==typeof t&&t.outlets?t.outlets[be]:""+t}function qt(t){return"object"!=typeof t[0]?(e={},e[be]=t,e):void 0===t[0].outlets?(r={},r[be]=t,r):t[0].outlets;var e,r}function zt(t,e,r){if(t||(t=new je([],{})),0===t.segments.length&&t.hasChildren())return Wt(t,e,r);var n=Dt(t,e,r),o=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var i=new je(t.segments.slice(0,n.pathIndex),{});return i.children[be]=new je(t.segments.slice(n.pathIndex),t.children),Wt(i,0,o)}return n.match&&0===o.length?new je(t.segments,{}):n.match&&!t.hasChildren()?Ft(t,e,r):n.match?Wt(t,0,o):Ft(t,e,r)}function Wt(t,e,r){if(0===r.length)return new je(t.segments,{});var n=qt(r),o={};return x(n,function(r,n){null!==r&&(o[n]=zt(t.children[n],e,r))}),x(t.children,function(t,e){void 0===n[e]&&(o[e]=t)}),new je(t.segments,o)}function Dt(t,e,r){for(var n=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(n>=r.length)return i;var a=t.segments[o],u=Mt(r[n]),s=n<r.length-1?r[n+1]:null;if(o>0&&void 0===u)break;if(u&&s&&"object"==typeof s&&void 0===s.outlets){if(!Bt(u,s,a))return i;n+=2}else{if(!Bt(u,{},a))return i;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function Ft(t,e,r){for(var n=t.segments.slice(0,e),o=0;o<r.length;){if("object"==typeof r[o]&&void 0!==r[o].outlets){var i=Nt(r[o].outlets);return new je(n,i)}if(0===o&&Tt(r[0])){var a=t.segments[e];n.push(new xe(a.path,r[0])),o++}else{var u=Mt(r[o]),s=o<r.length-1?r[o+1]:null;u&&s&&Tt(s)?(n.push(new xe(u,Gt(s))),o+=2):(n.push(new xe(u,{})),o++)}}return new je(n,{})}function Nt(t){var e={};return x(t,function(t,r){null!==t&&(e[r]=Ft(new je([],{}),0,t))}),e}function Gt(t){var e={};return x(t,function(t,r){return e[r]=""+t}),e}function Bt(t,e,r){return t==r.path&&C(e,r.parameters)}function Ht(t,e,r,n){return new Ve(t,e,r,n).recognize()}function Qt(t){t.sort(function(t,e){return t.value.outlet===be?-1:e.value.outlet===be?1:t.value.outlet.localeCompare(e.value.outlet)})}function Vt(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}function $t(t,e,r){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||r.length>0))throw new Qe;return{consumedSegments:[],lastChild:0,parameters:{}}}for(var n=e.path.split("/"),o={},i=[],a=0,u=0;u<n.length;++u){if(a>=r.length)throw new Qe;var s=r[a],c=n[u],l=c.startsWith(":");if(!l&&c!==s.path)throw new Qe;l&&(o[c.substring(1)]=s.path),i.push(s),a++}if("full"===e.pathMatch&&(t.hasChildren()||a<r.length))throw new Qe;return{consumedSegments:i,lastChild:a,parameters:j(o,i[i.length-1].parameters)}}function Kt(t){var e={};t.forEach(function(t){var r=e[t.value.outlet];if(r){var n=r.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+n+"' and '"+o+"'.")}e[t.value.outlet]=t.value})}function Yt(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Zt(t){for(var e=t,r=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)r+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return r-1}function Jt(t,e,r,n){if(r.length>0&&ee(t,r,n))return(o=new je(e,te(t,e,n,new je(r,t.children))))._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]};if(0===r.length&&re(t,r,n))return(o=new je(t.segments,Xt(t,r,n,t.children)))._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:r};var o=new je(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:r}}function Xt(t,e,r,n){for(var o={},i=0,a=r;i<a.length;i++){var u=a[i];if(ne(t,e,u)&&!n[oe(u)]){var s=new je([],{});s._sourceSegment=t,s._segmentIndexShift=t.segments.length,o[oe(u)]=s}}return j(n,o)}function te(t,e,r,n){var o={};o[be]=n,n._sourceSegment=t,n._segmentIndexShift=e.length;for(var i=0,a=r;i<a.length;i++){var u=a[i];if(""===u.path&&oe(u)!==be){var s=new je([],{});s._sourceSegment=t,s._segmentIndexShift=e.length,o[oe(u)]=s}}return o}function ee(t,e,r){return r.filter(function(r){return ne(t,e,r)&&oe(r)!==be}).length>0}function re(t,e,r){return r.filter(function(r){return ne(t,e,r)}).length>0}function ne(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&(""===r.path&&void 0===r.redirectTo)}function oe(t){return t.outlet?t.outlet:be}function ie(t){return t.data?t.data:{}}function ae(t){return t.resolve?t.resolve:{}}function ue(t){throw t}function se(t){for(var e=t.parent;e;){var r=e._routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null;e=e.parent}return null}function ce(t){if(!t)return null;for(var e=t.parent;e;){var r=e._routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;e=e.parent}return null}function le(t){return t?t.children.reduce(function(t,e){return t[e.value.outlet]=e,t},{}):{}}function he(t,e){var r=t._outlets[e.outlet];if(!r){var n=e.component.name;throw e.outlet===be?new Error("Cannot find primary outlet to load '"+n+"'"):new Error("Cannot find the outlet "+e.outlet+" to load '"+n+"'")}return r}function pe(t){return""===t||!!t}function fe(t,r,n){return void 0===n&&(n={}),n.useHash?new e.HashLocationStrategy(t,r):new e.PathLocationStrategy(t,r)}function de(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ge(t){return[{provide:r.ANALYZE_FOR_ENTRY_COMPONENTS,multi:!0,useValue:t},{provide:we,multi:!0,useValue:t}]}function ve(t,e,r,n){return function(){t.resetRootComponentType(e.componentTypes[0]),r.setUpPreloading(),!1===n.initialNavigation?t.setUpLocationChangeListener():t.initialNavigation()}}function me(){return{provide:r.APP_BOOTSTRAP_LISTENER,multi:!0,useFactory:ve,deps:[tr,r.ApplicationRef,pr,dr]}}var ye=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},be="primary",Se=function(t){function e(e){t.call(this,e),this.message=e,this.stack=new Error(e).stack}return ye(e,t),e.prototype.toString=function(){return this.message},e}(Error),we=new r.OpaqueToken("ROUTES"),Ce=function(){return function(t,e,r){this.routes=t,this.injector=e,this.factoryResolver=r}}(),Re=function(){function t(t,e){this.loader=t,this.compiler=e}return t.prototype.load=function(t,e){return s.map.call(this.loadModuleFactory(e),function(e){var r=e.create(t);return new Ce(R(r.injector.get(we)),r.injector,r.componentFactoryResolver)})},t.prototype.loadModuleFactory=function(t){var e=this;if("string"==typeof t)return m.fromPromise(this.loader.load(t));var n=this.compiler instanceof r.Compiler;return l.mergeMap.call(T(t()),function(t){return n?i.of(t):m.fromPromise(e.compiler.compileModuleAsync(t))})},t}(),_e=function(){function t(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}return t.prototype.toString=function(){return(new Pe).serialize(this)},t}(),je=function(){function t(t,e){var r=this;this.segments=t,this.children=e,this.parent=null,x(e,function(t,e){return t.parent=r})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return q(this)},t}(),xe=function(){function t(t,e){this.path=t,this.parameters=e}return t.prototype.toString=function(){return F(this)},t}(),Oe=function(){return function(){}}(),Pe=function(){function t(){}return t.prototype.parse=function(t){var e=new ke(t);return new _e(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){return""+("/"+z(t.root,!0))+G(t.queryParams)+(null!==t.fragment&&void 0!==t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Te=function(){return function(t,e){this.first=t,this.second=e}}(),Ae=/^[^\/\(\)\?;=&#]+/,Ee=/^[^=\?&#]+/,Ie=/^[^\?&#]+/,ke=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.capture=function(t){if(!this.remaining.startsWith(t))throw new Error('Expected "'+t+'".');this.remaining=this.remaining.substring(t.length)},t.prototype.parseRootSegment=function(){return this.remaining.startsWith("/")&&this.capture("/"),""===this.remaining||this.remaining.startsWith("?")||this.remaining.startsWith("#")?new je([],{}):new je([],this.parseChildren())},t.prototype.parseChildren=function(){if(0==this.remaining.length)return{};this.peekStartsWith("/")&&this.capture("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegments());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegments());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[be]=new je(t,e)),r},t.prototype.parseSegments=function(){var t=H(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");this.capture(t);var e={};return this.peekStartsWith(";")&&(e=this.parseMatrixParams()),new xe(D(t),e)},t.prototype.parseQueryParams=function(){var t={};if(this.peekStartsWith("?"))for(this.capture("?"),this.parseQueryParam(t);this.remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseQueryParam(t);return t},t.prototype.parseFragment=function(){return this.peekStartsWith("#")?decodeURI(this.remaining.substring(1)):null},t.prototype.parseMatrixParams=function(){for(var t={};this.remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=H(this.remaining);if(e){this.capture(e);var r="";if(this.peekStartsWith("=")){this.capture("=");var n=H(this.remaining);n&&(r=n,this.capture(r))}t[D(e)]=D(r)}},t.prototype.parseQueryParam=function(t){var e=Q(this.remaining);if(e){this.capture(e);var r="";if(this.peekStartsWith("=")){this.capture("=");var n=V(this.remaining);n&&(r=n,this.capture(r))}t[D(e)]=D(r)}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.peekStartsWith(")")&&this.remaining.length>0;){var r=H(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=be);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[be]:new je([],i),this.peekStartsWith("//")&&this.capture("//")}return this.capture(")"),e},t}(),Ue=function(){return function(t){void 0===t&&(t=null),this.segmentGroup=t}}(),Le=function(){return function(t){this.segments=t}}(),Me=function(){function t(t,e,r,n){this.injector=t,this.configLoader=e,this.urlTree=r,this.config=n,this.allowRedirects=!0}return t.prototype.apply=function(){var t=this,e=this.expandSegmentGroup(this.injector,this.config,this.urlTree.root,be),r=s.map.call(e,function(e){return t.createUrlTree(e)});return f._catch.call(r,function(e){if(e instanceof Le){t.allowRedirects=!1;var r=new je([],(n={},n[be]=new je(e.segments,{}),n));return t.match(r)}throw e instanceof Ue?t.noMatchError(e):e;var n})},t.prototype.match=function(t){var e=this,r=this.expandSegmentGroup(this.injector,this.config,t,be),n=s.map.call(r,function(t){return e.createUrlTree(t)});return f._catch.call(n,function(t){throw t instanceof Ue?e.noMatchError(t):t})},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t){var e=t.segments.length>0?new je([],(r={},r[be]=t,r)):t;return new _e(e,this.urlTree.queryParams,this.urlTree.fragment);var r},t.prototype.expandSegmentGroup=function(t,e,r,n){return 0===r.segments.length&&r.hasChildren()?s.map.call(this.expandChildren(t,e,r),function(t){return new je([],t)}):this.expandSegment(t,r,e,r.segments,n,!0)},t.prototype.expandChildren=function(t,e,r){var n=this;return O(r.children,function(r,o){return n.expandSegmentGroup(t,e,o,r)})},t.prototype.expandSegment=function(t,e,r,n,o,a){var u=this,c=i.of.apply(void 0,r),l=s.map.call(c,function(s){var c=u.expandSegmentAgainstRoute(t,e,r,s,n,o,a);return f._catch.call(c,function(t){if(t instanceof Ue)return i.of(null);throw t})}),h=d.concatAll.call(l),p=g.first.call(h,function(t){return!!t});return f._catch.call(p,function(t,r){throw t instanceof v.EmptyError?new Ue(e):t})},t.prototype.expandSegmentAgainstRoute=function(t,e,r,n,o,i,a){return ht(n)!==i?$(e):void 0===n.redirectTo||a&&this.allowRedirects?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,o):this.expandSegmentAgainstRouteUsingRedirect(t,e,r,n,o,i):$(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,r,n,o,i){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,n,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,r,n){var o=tt([],r.redirectTo,{});if(r.redirectTo.startsWith("/"))return K(o);var i=new je(o,{});return this.expandSegment(t,i,e,o,n,!1)},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,r,n,o,i){var a=X(e,n,o),u=a.matched,s=a.consumedSegments,c=a.lastChild,l=a.positionalParamSegments;if(!u)return $(e);var h=tt(s,n.redirectTo,l);return n.redirectTo.startsWith("/")?K(h):this.expandSegment(t,e,r,h.concat(o.slice(c)),i,!1)},t.prototype.matchSegmentAgainstRoute=function(t,e,r,n){var o=this;if("**"===r.path)return r.loadChildren?s.map.call(this.configLoader.load(t,r.loadChildren),function(t){return r._loadedConfig=t,i.of(new je(n,{}))}):i.of(new je(n,{}));var a=X(e,r,n),u=a.matched,c=a.consumedSegments,h=a.lastChild;if(!u)return $(e);var p=n.slice(h),f=this.getChildConfig(t,r);return l.mergeMap.call(f,function(t){var r=t.injector,n=t.routes,a=ot(e,c,p,n),u=a.segmentGroup,l=a.slicedSegments;if(0===l.length&&u.hasChildren()){h=o.expandChildren(r,n,u);return s.map.call(h,function(t){return new je(c,t)})}if(0===n.length&&0===l.length)return i.of(new je(c,{}));var h=o.expandSegment(r,u,n,l,be,!0);return s.map.call(h,function(t){return new je(c.concat(t.segments),t.children)})})},t.prototype.getChildConfig=function(t,e){var r=this;return e.children?i.of(new Ce(e.children,t,null)):e.loadChildren?l.mergeMap.call(J(t,e),function(n){return n?e._loadedConfig?i.of(e._loadedConfig):s.map.call(r.configLoader.load(t,e.loadChildren),function(t){return e._loadedConfig=t,t}):Y(e)}):i.of(new Ce([],t,null))},t}(),qe=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=dt(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=dt(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=gt(t,this._root,[]);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return gt(t,this._root,[]).map(function(t){return t.value})},t}(),ze=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}(),We=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},De=function(t){function e(e,r){t.call(this,e),this.snapshot=r,bt(this,e)}return We(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(qe),Fe=function(){function t(t,e,r,n,o,i,a,u){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=i,this.component=a,this._futureSnapshot=u}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}(),Ne=function(){function t(t,e,r,n,o,i,a,u,s,c,l){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=o,this.outlet=i,this.component=a,this._routeConfig=u,this._urlSegment=s,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this._routeConfig?this._routeConfig.path:"")+"')"},t}(),Ge=function(t){function e(e,r){t.call(this,r),this.url=e,bt(this,r)}return We(e,t),e.prototype.toString=function(){return St(this._root)},e}(qe),Be=function(){return function(t,e,r){this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r}}(),He=function(){return function(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}(),Qe=function(){return function(){}}(),Ve=function(){function t(t,e,r,n){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=n}return t.prototype.recognize=function(){try{var t=Jt(this.urlTree.root,[],[],this.config).segmentGroup,e=this.processSegmentGroup(this.config,t,be),r=new Ne([],Object.freeze({}),Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,{},be,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new ze(r,e),o=new Ge(this.url,n);return this.inheriteParamsAndData(o._root),i.of(o)}catch(t){return new p.Observable(function(e){return e.error(t)})}},t.prototype.inheriteParamsAndData=function(t){var e=this,r=t.value,n=yt(r);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(function(t){return e.inheriteParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,0,e.segments,r)},t.prototype.processChildren=function(t,e){var r=this,n=M(e,function(e,n){return r.processSegmentGroup(t,e,n)});return Kt(n),Qt(n),n},t.prototype.processSegment=function(t,e,r,n,o){for(var i=0,a=t;i<a.length;i++){var u=a[i];try{return this.processSegmentAgainstRoute(u,e,r,n,o)}catch(t){if(!(t instanceof Qe))throw t}}throw new Qe},t.prototype.processSegmentAgainstRoute=function(t,e,r,n,o){if(t.redirectTo)throw new Qe;if((t.outlet?t.outlet:be)!==o)throw new Qe;if("**"===t.path){var i=n.length>0?_(n).parameters:{},a=new Ne(n,i,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ie(t),o,t.component,t,Yt(e),Zt(e)+n.length,ae(t));return[new ze(a,[])]}var u=$t(e,t,n),s=u.consumedSegments,c=u.parameters,l=u.lastChild,h=n.slice(l),p=Vt(t),f=Jt(e,s,h,p),d=f.segmentGroup,g=f.slicedSegments,v=new Ne(s,c,Object.freeze(this.urlTree.queryParams),this.urlTree.fragment,ie(t),o,t.component,t,Yt(e),Zt(e)+s.length,ae(t));if(0===g.length&&d.hasChildren()){m=this.processChildren(p,d);return[new ze(v,m)]}if(0===p.length&&0===g.length)return[new ze(v,[])];var m=this.processSegment(p,d,r+l,g,be);return[new ze(v,m)]},t}(),$e=function(){function t(){this._outlets={}}return t.prototype.registerOutlet=function(t,e){this._outlets[t]=e},t.prototype.removeOutlet=function(t){this._outlets[t]=void 0},t}(),Ke=function(){function t(t,e){this.id=t,this.url=e}return t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(),Ye=function(){function t(t,e,r){this.id=t,this.url=e,this.urlAfterRedirects=r}return t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(),Ze=function(){function t(t,e,r){this.id=t,this.url=e,this.reason=r}return t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(),Je=function(){function t(t,e,r){this.id=t,this.url=e,this.error=r}return t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(),Xe=function(){function t(t,e,r,n){this.id=t,this.url=e,this.urlAfterRedirects=r,this.state=n}return t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(),tr=function(){function t(t,e,r,o,i,a,u,s){this.rootComponentType=t,this.urlSerializer=e,this.outletMap=r,this.location=o,this.injector=i,this.config=s,this.navigationId=0,this.errorHandler=ue,this.navigated=!1,this.resetConfig(s),this.routerEvents=new n.Subject,this.currentUrlTree=A(),this.configLoader=new Re(a,u),this.currentRouterState=vt(this.currentUrlTree,this.rootComponentType)}return t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.currentRouterState.root.component=this.rootComponentType},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription=this.location.subscribe(Zone.current.wrap(function(e){var r=t.urlSerializer.parse(e.url);return t.currentUrlTree.toString()!==r.toString()?t.scheduleNavigation(r,{skipLocationChange:e.pop,replaceUrl:!0}):null}))},Object.defineProperty(t.prototype,"routerState",{get:function(){return this.currentRouterState},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.routerEvents},enumerable:!0,configurable:!0}),t.prototype.resetConfig=function(t){pt(t),this.config=t},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription.unsubscribe()},t.prototype.createUrlTree=function(t,e){var r=void 0===e?{}:e,n=r.relativeTo,o=r.queryParams,i=r.fragment,a=r.preserveQueryParams,u=r.preserveFragment,s=n||this.routerState.root,c=a?this.currentUrlTree.queryParams:o,l=u?this.currentUrlTree.fragment:i;return Ot(s,this.currentUrlTree,t,c,l)},t.prototype.navigateByUrl=function(t,e){if(void 0===e&&(e={skipLocationChange:!1}),t instanceof _e)return this.scheduleNavigation(t,e);var r=this.urlSerializer.parse(t);return this.scheduleNavigation(r,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),this.scheduleNavigation(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){return this.urlSerializer.parse(t)},t.prototype.isActive=function(t,e){if(t instanceof _e)return E(this.currentUrlTree,t,e);var r=this.urlSerializer.parse(t);return E(this.currentUrlTree,r,e)},t.prototype.scheduleNavigation=function(t,e){var r=this,n=++this.navigationId;return this.routerEvents.next(new Ke(n,this.serializeUrl(t))),Promise.resolve().then(function(o){return r.runNavigate(t,e.skipLocationChange,e.replaceUrl,n)})},t.prototype.runNavigate=function(t,e,r,n){var o=this;return n!==this.navigationId?(this.location.go(this.urlSerializer.serialize(this.currentUrlTree)),this.routerEvents.next(new Ze(n,this.serializeUrl(t),"Navigation ID "+n+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(a,u){var c,h,p,f,d=o.currentRouterState,g=o.currentUrlTree,v=Z(o.injector,o.configLoader,t,o.config),m=l.mergeMap.call(v,function(t){return f=t,Ht(o.rootComponentType,o.config,f,o.serializeUrl(f))}),y=s.map.call(m,function(e){return o.routerEvents.next(new Xe(n,o.serializeUrl(t),o.serializeUrl(f),e)),e}),b=s.map.call(y,function(t){return Ct(t,o.currentRouterState)}),S=s.map.call(b,function(t){(p=new nr((c=t).snapshot,o.currentRouterState.snapshot,o.injector)).traverse(o.outletMap)}),w=l.mergeMap.call(S,function(){return p.checkGuards()});l.mergeMap.call(w,function(t){return t?s.map.call(p.resolveData(),function(){return t}):i.of(t)}).forEach(function(t){if(t&&n===o.navigationId){if(o.currentUrlTree=f,o.currentRouterState=c,!e){var i=o.urlSerializer.serialize(f);o.location.isCurrentPathEqualTo(i)||r?o.location.replaceState(i):o.location.go(i)}new or(c,d).activate(o.outletMap),h=!0}else h=!1}).then(function(){o.navigated=!0,h?(o.routerEvents.next(new Ye(n,o.serializeUrl(t),o.serializeUrl(f))),a(!0)):(o.routerEvents.next(new Ze(n,o.serializeUrl(t),"")),a(!1))},function(e){if(e instanceof Se)o.navigated=!0,o.routerEvents.next(new Ze(n,o.serializeUrl(t),e.message)),a(!1);else{o.routerEvents.next(new Je(n,o.serializeUrl(t),e));try{a(o.errorHandler(e))}catch(t){u(t)}}n===o.navigationId&&(o.currentRouterState=d,o.currentUrlTree=g,o.location.replaceState(o.serializeUrl(g)))})})},t}(),er=function(){function t(t){this.path=t}return Object.defineProperty(t.prototype,"route",{get:function(){return this.path[this.path.length-1]},enumerable:!0,configurable:!0}),t}(),rr=function(){return function(t,e){this.component=t,this.route=e}}(),nr=function(){function t(t,e,r){this.future=t,this.curr=e,this.injector=r,this.checks=[]}return t.prototype.traverse=function(t){var e=this.future._root,r=this.curr?this.curr._root:null;this.traverseChildRoutes(e,r,t,[e.value])},t.prototype.checkGuards=function(){var t=this;if(0===this.checks.length)return i.of(!0);var e=o.from(this.checks),r=s.map.call(e,function(e){if(e instanceof er)return P(o.from([t.runCanActivateChild(e.path),t.runCanActivate(e.route)]));if(e instanceof rr){var r=e;return t.runCanDeactivate(r.component,r.route)}throw new Error("Cannot be reached")}),n=c.mergeAll.call(r);return u.every.call(n,function(t){return!0===t})},t.prototype.resolveData=function(){var t=this;if(0===this.checks.length)return i.of(null);var e=o.from(this.checks),r=a.concatMap.call(e,function(e){return e instanceof er?t.runResolve(e.route):i.of(null)});return h.reduce.call(r,function(t,e){return t})},t.prototype.traverseChildRoutes=function(t,e,r,n){var o=this,i=le(e);t.children.forEach(function(t){o.traverseRoutes(t,i[t.value.outlet],r,n.concat([t.value])),delete i[t.value.outlet]}),x(i,function(t,e){return o.deactiveRouteAndItsChildren(t,r._outlets[e])})},t.prototype.traverseRoutes=function(t,e,r,n){var o=t.value,i=e?e.value:null,a=r?r._outlets[t.value.outlet]:null;i&&o._routeConfig===i._routeConfig?(C(o.params,i.params)?(o.data=i.data,o._resolvedData=i._resolvedData):this.checks.push(new rr(a.component,i),new er(n)),o.component?this.traverseChildRoutes(t,e,a?a.outletMap:null,n):this.traverseChildRoutes(t,e,r,n)):(i&&this.deactiveRouteAndItsChildren(e,a),this.checks.push(new er(n)),o.component?this.traverseChildRoutes(t,null,a?a.outletMap:null,n):this.traverseChildRoutes(t,null,r,n))},t.prototype.deactiveRouteAndItsChildren=function(t,e){var r=this;x(le(t),function(t,n){var o=e?e.outletMap._outlets[n]:null;r.deactiveRouteAndItsChildren(t,o)});var n=e&&e.isActivated?e.component:null;this.checks.push(new rr(n,t.value))},t.prototype.runCanActivate=function(t){var e=this,r=t._routeConfig?t._routeConfig.canActivate:null;return r&&0!==r.length?P(s.map.call(o.from(r),function(r){var n=e.getToken(r,t);return T(n.canActivate?n.canActivate(t,e.future):n(t,e.future))})):i.of(!0)},t.prototype.runCanActivateChild=function(t){var e=this,r=t[t.length-1],n=t.slice(0,t.length-1).reverse().map(function(t){return e.extractCanActivateChild(t)}).filter(function(t){return null!==t});return P(s.map.call(o.from(n),function(t){return P(s.map.call(o.from(t.guards),function(t){var n=e.getToken(t,t.node);return T(n.canActivateChild?n.canActivateChild(r,e.future):n(r,e.future))}))}))},t.prototype.extractCanActivateChild=function(t){var e=t._routeConfig?t._routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null},t.prototype.runCanDeactivate=function(t,e){var r=this,n=e&&e._routeConfig?e._routeConfig.canDeactivate:null;if(!n||0===n.length)return i.of(!0);var a=s.map.call(o.from(n),function(n){var o=r.getToken(n,e);return T(o.canDeactivate?o.canDeactivate(t,e,r.curr):o(t,e,r.curr))}),l=c.mergeAll.call(a);return u.every.call(l,function(t){return!0===t})},t.prototype.runResolve=function(t){var e=t._resolve;return s.map.call(this.resolveNode(e,t),function(e){return t._resolvedData=e,t.data=j(t.data,yt(t).resolve),null})},t.prototype.resolveNode=function(t,e){var r=this;return O(t,function(t,n){var o=r.getToken(n,e);return T(o.resolve?o.resolve(e,r.future):o(e,r.future))})},t.prototype.getToken=function(t,e){var r=ce(e);return(r?r.injector:this.injector).get(t)},t}(),or=function(){function t(t,e){this.futureState=t,this.currState=e}return t.prototype.activate=function(t){var e=this.futureState._root,r=this.currState?this.currState._root:null;wt(this.futureState.root),this.activateChildRoutes(e,r,t)},t.prototype.activateChildRoutes=function(t,e,r){var n=this,o=le(e);t.children.forEach(function(t){n.activateRoutes(t,o[t.value.outlet],r),delete o[t.value.outlet]}),x(o,function(t,e){return n.deactiveRouteAndItsChildren(t,r)})},t.prototype.activateRoutes=function(t,e,r){var n=t.value,o=e?e.value:null;if(n===o)if(wt(n),n.component){i=he(r,n);this.activateChildRoutes(t,e,i.outletMap)}else this.activateChildRoutes(t,e,r);else if(o&&this.deactiveRouteAndItsChildren(e,r),n.component){wt(n);var i=he(r,t.value),a=new $e;this.placeComponentIntoOutlet(a,n,i),this.activateChildRoutes(t,null,a)}else wt(n),this.activateChildRoutes(t,null,r)},t.prototype.placeComponentIntoOutlet=function(t,e,n){var o=[{provide:Fe,useValue:e},{provide:$e,useValue:t}],i=se(e.snapshot),a=null,u=null;i&&(a=i.factoryResolver,u=i.injector,o.push({provide:r.ComponentFactoryResolver,useValue:a})),n.activate(e,a,u,r.ReflectiveInjector.resolve(o),t)},t.prototype.deactiveRouteAndItsChildren=function(t,e){var r=this,n=le(t),o=null;try{o=he(e,t.value)}catch(t){return}var i=o.outletMap;x(n,function(n,o){t.value.component?r.deactiveRouteAndItsChildren(n,i):r.deactiveRouteAndItsChildren(n,e)}),o&&o.isActivated&&o.deactivate()},t}(),ir=function(){function t(t,e,r){this.router=t,this.route=e,this.locationStrategy=r,this.commands=[]}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){Array.isArray(t)?this.commands=t:this.commands=[t]},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t,e,r){return!(0===t&&!e&&!r)||(this.router.navigateByUrl(this.urlTree),!1)},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pe(this.preserveQueryParams),preserveFragment:pe(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Directive,args:[{selector:":not(a)[routerLink]"}]}],t.ctorParameters=[{type:tr},{type:Fe},{type:e.LocationStrategy}],t.propDecorators={queryParams:[{type:r.Input}],fragment:[{type:r.Input}],preserveQueryParams:[{type:r.Input}],preserveFragment:[{type:r.Input}],routerLink:[{type:r.Input}],onClick:[{type:r.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},t}(),ar=function(){function t(t,e,r){var n=this;this.router=t,this.route=e,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Ye&&n.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){Array.isArray(t)?this.commands=t:this.commands=[t]},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,r){return!(0===t&&!e&&!r)||("string"==typeof this.target&&"_self"!=this.target||(this.router.navigateByUrl(this.urlTree),!1))},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:pe(this.preserveQueryParams),preserveFragment:pe(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.decorators=[{type:r.Directive,args:[{selector:"a[routerLink]"}]}],t.ctorParameters=[{type:tr},{type:Fe},{type:e.LocationStrategy}],t.propDecorators={target:[{type:r.Input}],queryParams:[{type:r.Input}],fragment:[{type:r.Input}],routerLinkOptions:[{type:r.Input}],preserveQueryParams:[{type:r.Input}],preserveFragment:[{type:r.Input}],href:[{type:r.HostBinding}],routerLink:[{type:r.Input}],onClick:[{type:r.HostListener,args:["click",["$event.button","$event.ctrlKey","$event.metaKey"]]}]},t}(),ur=function(){function t(t,e,r){var n=this;this.router=t,this.element=e,this.renderer=r,this.classes=[],this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(function(t){t instanceof Ye&&n.update()})}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe(function(e){return t.update()}),this.linksWithHrefs.changes.subscribe(function(e){return t.update()}),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){Array.isArray(t)?this.classes=t:this.classes=t.split(" ")},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;if(this.links&&this.linksWithHrefs&&this.router.navigated){var e=this.hasActiveLink();this.classes.forEach(function(r){return t.renderer.setElementClass(t.element.nativeElement,r,e)})}},t.prototype.isLinkActive=function(t){var e=this;return function(r){return t.isActive(r.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLink=function(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))},t.decorators=[{type:r.Directive,args:[{selector:"[routerLinkActive]"}]}],t.ctorParameters=[{type:tr},{type:r.ElementRef},{type:r.Renderer}],t.propDecorators={links:[{type:r.ContentChildren,args:[ir,{descendants:!0}]}],linksWithHrefs:[{type:r.ContentChildren,args:[ar,{descendants:!0}]}],routerLinkActiveOptions:[{type:r.Input}],routerLinkActive:[{type:r.Input}]},t}(),sr=function(){function t(t,e,n,o){this.parentOutletMap=t,this.location=e,this.resolver=n,this.name=o,this.activateEvents=new r.EventEmitter,this.deactivateEvents=new r.EventEmitter,t.registerOutlet(o||be,this)}return t.prototype.ngOnDestroy=function(){this.parentOutletMap.removeOutlet(this.name?this.name:be)},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this.deactivateEvents.emit(t)}},t.prototype.activate=function(t,e,n,o,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this.outletMap=i,this._activatedRoute=t;var a,u=t._futureSnapshot._routeConfig.component;a=e?e.resolveComponentFactory(u):this.resolver.resolveComponentFactory(u);var s=n||this.location.parentInjector,c=r.ReflectiveInjector.fromResolvedProviders(o,s);this.activated=this.location.createComponent(a,this.location.length,c,[]),this.activated.changeDetectorRef.detectChanges(),this.activateEvents.emit(this.activated.instance)},t.decorators=[{type:r.Directive,args:[{selector:"router-outlet"}]}],t.ctorParameters=[{type:$e},{type:r.ViewContainerRef},{type:r.ComponentFactoryResolver},{type:void 0,decorators:[{type:r.Attribute,args:["name"]}]}],t.propDecorators={activateEvents:[{type:r.Output,args:["activate"]}],deactivateEvents:[{type:r.Output,args:["deactivate"]}]},t}(),cr=function(){return function(){}}(),lr=function(){function t(){}return t.prototype.preload=function(t,e){return f._catch.call(e(),function(){return i.of(null)})},t}(),hr=function(){function t(){}return t.prototype.preload=function(t,e){return i.of(null)},t}(),pr=function(){function t(t,e,r,n,o){this.router=t,this.injector=n,this.preloadingStrategy=o,this.loader=new Re(e,r)}return t.prototype.setUpPreloading=function(){var t=this,e=S.filter.call(this.router.events,function(t){return t instanceof Ye});this.subscription=a.concatMap.call(e,function(){return t.preload()}).subscribe(function(t){})},t.prototype.preload=function(){return this.processRoutes(this.injector,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n];if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var u=a._loadedConfig;r.push(this.processRoutes(u.injector,u.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(t,a)):a.children&&r.push(this.processRoutes(t,a.children))}return c.mergeAll.call(o.from(r))},t.prototype.preloadConfig=function(t,e){var r=this;return this.preloadingStrategy.preload(e,function(){var n=r.loader.load(t,e.loadChildren);return l.mergeMap.call(n,function(t){return e._loadedConfig=t,r.processRoutes(t.injector,t.routes)})})},t.decorators=[{type:r.Injectable}],t.ctorParameters=[{type:tr},{type:r.NgModuleFactoryLoader},{type:r.Compiler},{type:r.Injector},{type:cr}],t}(),fr=[sr,ir,ar,ur],dr=new r.OpaqueToken("ROUTER_CONFIGURATION"),gr=new r.OpaqueToken("ROUTER_FORROOT_GUARD"),vr=[e.Location,{provide:Oe,useClass:Pe},{provide:tr,useFactory:function(t,e,r,n,o,i,a,u,s){void 0===s&&(s={});var c=new tr(null,e,r,n,o,i,a,R(u));return s.errorHandler&&(c.errorHandler=s.errorHandler),s.enableTracing&&c.events.subscribe(function(t){console.group("Router Event: "+t.constructor.name),console.log(t.toString()),console.log(t),console.groupEnd()}),c},deps:[r.ApplicationRef,Oe,$e,e.Location,r.Injector,r.NgModuleFactoryLoader,r.Compiler,we,dr]},$e,{provide:Fe,useFactory:function(t){return t.routerState.root},deps:[tr]},{provide:r.NgModuleFactoryLoader,useClass:r.SystemJsNgModuleLoader},pr,hr,lr,{provide:dr,useValue:{enableTracing:!1}}],mr=function(){function t(t){}return t.forRoot=function(n,o){return{ngModule:t,providers:[vr,ge(n),{provide:gr,useFactory:de,deps:[[tr,new r.Optional,new r.SkipSelf]]},{provide:dr,useValue:o||{}},{provide:e.LocationStrategy,useFactory:fe,deps:[e.PlatformLocation,[new r.Inject(e.APP_BASE_HREF),new r.Optional],dr]},{provide:cr,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:hr},me()]}},t.forChild=function(e){return{ngModule:t,providers:[ge(e)]}},t.decorators=[{type:r.NgModule,args:[{declarations:fr,exports:fr}]}],t.ctorParameters=[{type:void 0,decorators:[{type:r.Optional},{type:r.Inject,args:[gr]}]}],t}(),yr={ROUTER_PROVIDERS:vr,ROUTES:we,flatten:R};t.RouterLink=ir,t.RouterLinkWithHref=ar,t.RouterLinkActive=ur,t.RouterOutlet=sr,t.NavigationCancel=Ze,t.NavigationEnd=Ye,t.NavigationError=Je,t.NavigationStart=Ke,t.Router=tr,t.RoutesRecognized=Xe,t.RouterModule=mr,t.provideRoutes=ge,t.RouterOutletMap=$e,t.NoPreloading=hr,t.PreloadAllModules=lr,t.PreloadingStrategy=cr,t.ActivatedRoute=Fe,t.ActivatedRouteSnapshot=Ne,t.RouterState=De,t.RouterStateSnapshot=Ge,t.PRIMARY_OUTLET=be,t.DefaultUrlSerializer=Pe,t.UrlSegment=xe,t.UrlSerializer=Oe,t.UrlTree=_e,t.__router_private__=yr});